# Speckit 入力例 - 注文機能

各コマンドへの入力例です。出力は各コマンドがテンプレートに従って自動生成します。

---

## 1. `/speckit.specify` の入力

自然言語で機能の WHAT（何を）と WHY（なぜ）を記述します。
実装詳細（UI構成・API設計・ディレクトリ構成など）は含めません。

```text
/speckit.specify
# 注文機能
購入者がカート内の商品を確認して注文を確定し、注文履歴・注文詳細を閲覧できる機能。購入者（buyer）ログインが必須。
管理者は全注文の一覧閲覧とステータス更新ができる。管理者（admin）ログインが必須。

## チェックアウトと注文確定
カート画面でカート内の商品一覧（商品名・単価・数量・小計）と合計金額を表示し、「注文手続きへ」ボタンでチェックアウト画面に遷移する。
チェックアウト画面で注文内容を最終確認し、「注文を確定」ボタンで注文を作成する。注文完了画面に注文IDとお礼メッセージを表示する。
注文作成後、カートは自動的にクリアされる。
カートが空の場合は注文不可とし、「注文手続きへ」ボタンは非表示にする。

## 注文履歴・注文詳細
購入者は自分の注文のみ一覧で確認できる（注文ID先頭8桁・注文日・商品数・合計金額・ステータス、20件/ページ）。
注文詳細画面で注文ID・注文日時・ステータス・商品一覧・合計金額を確認できる。
他人の注文にはアクセスできない。

## 管理者の注文管理
管理者は全ユーザーの注文を一覧で確認でき、ステータスで絞り込める。
ステータス遷移ルール: 保留中→確認済み→発送済み→配送完了の順で進行し、保留中・確認済みからはキャンセルも可能。配送完了・キャンセルからの遷移は不可。
購入者は管理者の注文管理ページにアクセスできない。

## 前提
カート機能とセッション認証が実装済み。購入者（buyer）と管理者（admin）ロールが存在する。
注文金額にはカートの税抜小計を使用する。注文のキャンセルは管理者のみ。
決済処理と配送先住所の入力は本スコープ外とする。
```

→ spec.md が自動生成される（User Stories, Requirements, Success Criteria）

---

## 2. `/speckit.plan` の入力

spec.md は自動で読み込まれるため、追加の設計指示がある場合のみ引数を渡します。

```text
/speckit.plan
ステータス遷移はステートマシンパターンで厳密に管理する。
```

機能固有の設計指示のみ記述。TDD、スタブ置換、contracts 準拠、navLinks 有効化、日本語記述などの共通指示は constitution に定義済みのため省略可能。

→ plan.md, research.md, data-model.md, contracts/ 等が自動生成される

---

## 3. `/speckit.tasks` の入力

spec.md + plan.md は自動で読み込まれるため、追加の指示がある場合のみ引数を渡します。

```text
/speckit.tasks
```

引数なし。TDD、ユーザーストーリー単位のフェーズ分割などの共通指示は constitution に定義済みのため省略可能。

→ tasks.md が自動生成される（フェーズ別・ユーザーストーリー別のタスク一覧）
