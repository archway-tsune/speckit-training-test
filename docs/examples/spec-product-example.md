# Speckit 入力例 - 商品管理機能

各コマンドへの入力例です。出力は各コマンドがテンプレートに従って自動生成します。

---

## 1. `/speckit.specify` の入力

自然言語で機能の WHAT（何を）と WHY（なぜ）を記述します。
実装詳細（UI構成・API設計・ディレクトリ構成など）は含めません。

```text
/speckit.specify
# 商品管理機能
管理者が商品の登録・編集・削除・ステータス管理を行える機能。
全操作は管理者（admin）ログインが必須で、buyer権限のユーザーはアクセスを拒否される。

## 商品一覧表示（管理者）
管理者が全商品をテーブル形式で確認できる（商品名・価格・在庫数・ステータス）。
各商品に対して編集・削除の操作ができる。
商品が多い場合はページネーションで表示する。

## 商品新規登録
管理者が新しい商品を登録できる。商品名（必須・1〜200文字）と価格（必須・0以上の整数）は必須入力。
説明（任意・最大2000文字）、画像URL（任意・有効なURL形式）、在庫数（任意・0以上の整数、デフォルト0）は任意入力。
登録後は「下書き」ステータスで作成され、商品一覧に遷移する。

## 商品編集
管理者が既存商品の情報を編集できる。編集ページを開くと既存データがフォームにプリロードされる。
部分更新（変更したフィールドのみ更新）をサポートする。
存在しない商品IDの場合は404エラーを表示する。

## 商品削除
管理者が不要な商品を削除できる。削除前に確認ダイアログを表示する。

## ステータス変更
管理者が商品のステータスを一覧画面のドロップダウンから即時変更できる。
ステータスは「下書き」（draft）・「公開中」（published）・「アーカイブ」（archived）の3種類。
全ステータス間の遷移が可能（制限なし）。

## 前提
購入者向けのカタログ閲覧機能（catalog ドメイン）は実装済み。
商品管理は catalog（購入者向け閲覧）とは異なるバウンデッドコンテキストのため、独立した product ドメインとして分離する。
各ドメインが独立してリリース可能な構成とする。
セッション認証が実装済みで、admin/buyerのロール判定が可能。
在庫引き当て（注文時の在庫減算）は対象外。画像アップロード機能は対象外（URL直接入力方式）。
```

→ spec.md が自動生成される（User Stories, Requirements, Success Criteria）

---

## 2. `/speckit.plan` の入力

spec.md は自動で読み込まれるため、追加の設計指示がある場合のみ引数を渡します。

```text
/speckit.plan
独立した product ドメインとして新規作成し、catalog ドメインと完全に分離する。
CQRS の考え方を適用し、既存 catalog のリポジトリは読み取り専用にリファクタリングする。
```

機能固有の設計指示のみ記述。TDD、スタブ置換、contracts 準拠、navLinks 有効化、日本語記述などの共通指示は constitution に定義済みのため省略可能。

→ plan.md, research.md, data-model.md, contracts/ 等が自動生成される

---

## 3. `/speckit.tasks` の入力

spec.md + plan.md は自動で読み込まれるため、追加の指示がある場合のみ引数を渡します。

```text
/speckit.tasks
```

引数なし。TDD、ユーザーストーリー単位のフェーズ分割などの共通指示は constitution に定義済みのため省略可能。

→ tasks.md が自動生成される（フェーズ別・ユーザーストーリー別のタスク一覧）
